# StackLoom

用 AI 把 UI 模块「编织」成完整的全栈应用。

---

## 项目简介

StackLoom 是一个实验性的全栈应用生成与协作工具，目标是：

> 让开发者可以从「UI 模块 + 自然语言描述」出发，快速迭代出可运行的前后端应用。

你不用从空白项目开始搭建路由、页面和接口，而是通过描述想要的体验和功能，让 StackLoom 帮你：

- 生成 UI 组件、页面结构和布局
- 连接前端与后端（路由、API、数据模型）
- 在你不断修改需求时，尽量保持代码结构的可读性和可维护性

> 当前状态：**早期 / 实验阶段**，API 与项目结构仍在快速迭代中，请谨慎用于生产环境。

---

## 核心理念

- **UI 优先（UI‑first）**  
  从页面和组件出发，而不是从数据库或接口设计出发。

- **人机共创（Human‑in‑the‑loop）**  
  强调「AI 生成 + 人类审阅与调整」，代码产物始终是你可以修改和掌控的。

- **增量改进（Incremental）**  
  支持在已有代码上做小步更新，而不是每次都重头生成。

- **全栈导向（Full‑stack）**  
  不只生成组件，而是关注一个真实应用所需的前后端配合。

---

## 目录结构概览

仓库根目录下的主要子目录如下（以当前版本为准）：

- `frontend/` – 前端应用（UI 层、路由、页面、组件等）
- `backend/` – 后端服务（接口、业务逻辑、数据访问等）
- `docs/` – 文档、设计记录与实验说明
- `README.md` – 英文版项目介绍（简要）
- `README.zh-CN.md` – 当前文件，中文版项目说明

> 具体技术栈、框架与目录层级可能会在演进过程中发生变化，请以对应目录下的说明文件和实际代码为准。

---

## 快速开始

> 以下为通用模板，请根据你当前仓库的实际脚本和依赖做对应调整。

### 环境要求

- Git
- Node.js LTS（建议 18+）
- 包管理工具：`npm` / `pnpm` / `yarn` 之一
- （可选）Docker，如果你打算以容器形式运行或部署服务
- （可选）访问外部大模型的 API Key（如 OpenAI / Azure OpenAI / OpenAI 兼容服务），如果项目配置了相关支持

### 克隆仓库

```bash
git clone <your-repo-url> stackloom
cd stackloom
```

### 安装依赖

根据实际项目结构可能略有不同，一种典型方式是前后端分别安装：

```bash
# 安装前端依赖
cd frontend
npm install   # 或 pnpm install / yarn

# 回到根目录
cd ..

# 安装后端依赖
cd backend
# 例如（视后端技术栈而定）：
# npm install
# 或 pip install -r requirements.txt
# 或 bun install
```

### 配置环境变量

仓库中通常会包含一个示例环境配置文件（如 `.env.example`）。你可以参考它创建本地环境配置：

```bash
cp .env.example .env
```

打开 `.env`，填入实际的配置值，例如：

```env
STACKLOOM_ENV=development
STACKLOOM_OPENAI_API_KEY=你的_api_key_这里
# 其他依项目而定的配置
```

> 如果前后端分别有环境文件，例如 `frontend/.env.local`、`backend/.env`，也请同步配置。

### 启动开发环境

如果项目根目录提供了统一脚本（例如 Makefile、npm workspace、turbo 等），你可以直接在根目录执行：

```bash
# 示例：使用 Makefile
make dev
```

也可以手动分别启动前后端（仅供参考）：

```bash
# 启动前端
cd frontend
npm run dev

# 启动后端（在另一个终端）
cd backend
npm run dev   # 或对应后端框架的启动命令
```

启动成功后，在浏览器访问对应地址（例如 `http://localhost:3000` 或 README/终端输出中提示的地址）。

---

## 使用方式概览

StackLoom 更偏向「工作流」而不是一个单一 CLI 命令，典型使用方式可能是以下组合（以你的项目实现为准）：

1. **通过自然语言描述需求**

   例如，在某个配置文件、对话界面或 DevTools 面板中描述：
   - 需要一个登录页 + 注册页
   - 登录后进入一个带侧边栏的仪表盘
   - 仪表盘中有「项目列表」和「任务列表」，支持筛选和分页
   - 提供一个「任务详情页」，可以编辑任务状态和备注

2. **生成初始代码结构**

   StackLoom 根据描述生成：
   - 对应的前端路由与页面组件
   - 基础的 UI 布局与组件（header / sidebar / card / form 等）
   - 后端路由或 API handler 的骨架代码
   - 简单的数据模型或类型定义（视实现而定）

3. **迭代与重构**
   - 增加新需求（例如新增一个「团队管理」页面）
   - 调整已有页面布局（例如将列表拆成卡片视图和表格视图）
   - 修改字段命名、接口结构等

   StackLoom 会尝试在现有代码的基础上进行增量更新，而不是每次完全重写。

4. **接入真实数据与基础设施**

   在生成的代码基础上，你可以：
   - 接入真实数据库（PostgreSQL / MySQL / MongoDB / 其他）
   - 接入鉴权与权限控制
   - 增加日志、监控与错误上报
   - 按常规方式进行测试与部署

---

## 配置与自定义

> 具体配置项以项目中的实际配置文件为准，这里只总结常见维度。

### 模型与提供方配置

例如（示意）：

- 使用哪个模型（如 `gpt-4.1`、`gpt-4.1-mini`、自托管模型等）
- 超时时间 / 最大 token / 温度等参数
- 是否允许联网搜索 / 检索增强等

通常在 `.env` 或某个 `config` 文件中体现。

### 代码生成策略

包括但不限于：

- 前端与后端代码的输出目录
- 命名规范（文件命名、组件命名、路由命名等）
- 是否自动生成测试文件、Storybook 示例等
- 代码样式（如是否使用 TypeScript、是否使用 ESLint/Prettier 等）

### UI 组件与设计系统

如果你在项目中使用了某套 UI 库（例如 shadcn/ui、Ant Design、Material UI 等），可以通过配置让 StackLoom 尽量复用这些组件，从而：

- 保持视觉与交互风格一致
- 减少重复造轮子

---

## 适用场景

StackLoom 尤其适合：

- **产品原型 / MVP**  
  快速拉起一个端到端可跑的原型，覆盖基础业务流程。

- **内部管理后台 / 工具类应用**  
  大量表单、列表、详情页、过滤与导出逻辑，结构重复且模版化程度高。

- **探索性开发**  
  业务需求还不完全确定，需要频繁试错和改动界面与流程。

不太适合（至少在当前阶段）：

- 对性能、稳定性和安全性有非常严格要求的核心系统
- 需要大量高度定制、像素级还原设计稿的前端项目

---

## 路线图（示例）

具体规划以实际项目 issue / project board 为准，这里给出一个示例方向：

- [ ] 更智能的「差异感知」更新（基于现有代码结构做局部改动）
- [ ] 更丰富的页面与布局模板库
- [ ] 与主流框架的深度集成（如 Next.js、Remix、NestJS、FastAPI 等）
- [ ] 支持更多推理后端（私有部署、本地模型等）
- [ ] 提供若干开箱即用的「应用蓝本」（后台管理、SaaS、多租户等）
- [ ] 更可视化的「模块编织」界面（Block/Flow 视图等）

---

## 贡献指南

欢迎参与共建，尤其是在项目早期阶段：

1. **提 Issue**
   - 报告 Bug：尽量附带复现步骤、日志或截图
   - 功能建议：说明使用场景与痛点，越具体越好
2. **提交 Pull Request**
   - 优先保证 PR 聚焦于单一主题（一个 Bug 或一个特性）
   - 遵守现有代码风格与目录结构
   - 如有行为变化，请同步更新相关文档或注释
3. **讨论与反馈**
   - 对方向性问题，可以先在 Issue / Discussion 中交流
   - 欢迎分享你基于 StackLoom 搭建的项目与踩坑经验

---

## 许可协议（License）

本项目使用 MIT 协议。具体条款请见仓库根目录的 `LICENSE` 文件。

---

## 联系方式

根据你的项目实际情况，可以在此处补充：

- 团队或个人主页
- Issue / Discussion 区使用指引
- 其他支持渠道（如邮件列表、企业内部沟通渠道等）

> 如果你正在阅读这份文档，欢迎尝试使用 StackLoom 为你的下一个小工具或内部后台「织」一个原型。
